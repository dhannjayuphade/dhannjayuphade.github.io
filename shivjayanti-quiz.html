<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shiv Jayanti Mega Quiz</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  font-family: Arial;
  background:#f2f2f2;
  padding:20px;
}
h1{
  text-align:center;
  color:#b71c1c;
}
.question{
  background:white;
  padding:12px;
  margin:8px 0;
  border-radius:6px;
}
button{
  padding:10px 15px;
  background:#b71c1c;
  color:white;
  border:none;
  border-radius:5px;
  cursor:pointer;
  margin-top:10px;
}
#certificate{
  display:none;
  width:800px;
  margin:30px auto;
  padding:30px;
  background:white;
  border:8px double black;
  text-align:center;
  position:relative;
}
#certificate img{
  width:100%;
  height:180px;
  object-fit:cover;
}
.signature{
  position:absolute;
  bottom:20px;
  right:40px;
  font-weight:bold;
}
</style>
</head>
<body>
  <h1>welcome</h1>

<h1>ðŸš© Shiv Jayanti Mega Quiz ðŸš©</h1>

<label>Your Name:</label>
<input type="text" id="username"><br><br>

<label>Your Instagram Username:</label>
<input type="text" id="insta"><br><br>

<form id="quizForm"></form>

<button onclick="submitQuiz()">Submit Quiz</button>

<h2 id="result"></h2>

<div id="certificate">
<img src="banner.jpg">
<h2>Certificate of Excellence</h2>
<p>This certificate is proudly presented to</p>
<h1 id="certName"></h1>
<p>Instagram: <span id="certInsta"></span></p>
<p>For scoring 50/50 (100%) in Shiv Jayanti Mega Quiz</p>
<p>Date: <span id="certDate"></span></p>

<div class="signature">
Dhannjay Uphade
</div>
</div>

<button id="downloadBtn" style="display:none;" onclick="downloadPDF()">Download Certificate</button>

<script>

const questions = [];

// First 10 real
const realQuestions = [
  {q:"Who founded Hindavi Swarajya?", a:"Shivaji"},
  {q:"Birth year of Shivaji Maharaj?", a:"1630"},
  {q:"Mother of Shivaji Maharaj?", a:"Jijabai"},
  {q:"Father of Shivaji Maharaj?", a:"Shahaji"},
  {q:"Capital of Maratha Empire?", a:"Raigad"},
  {q:"Coronation year?", a:"1674"},
  {q:"Guru of Shivaji Maharaj?", a:"Samarth Ramdas"},
  {q:"Born at which fort?", a:"Shivneri"},
  {q:"First fort captured?", a:"Torna"},
  {q:"Title received at coronation?", a:"Chhatrapati"}
];

questions.push(...realQuestions);

// Auto fill up to 50
for(let i=11;i<=50;i++){
  questions.push({q:"Shivaji Question "+i+"?", a:"A"});
}

const form=document.getElementById("quizForm");

questions.forEach((item,index)=>{
  form.innerHTML+=`
  <div class="question">
  <p>${index+1}. ${item.q}</p>
  <input type="text" name="q${index}">
  </div>
  `;
});

function submitQuiz(){
  let score=0;

  questions.forEach((item,index)=>{
    const ans=document.querySelector(`input[name="q${index}"]`).value.trim();
    if(ans.toLowerCase()===item.a.toLowerCase()){
      score++;
    }
  });

  document.getElementById("result").innerText="Your Score: "+score+"/50";

  if(score===50){

    const name=document.getElementById("username").value;
    const insta=document.getElementById("insta").value;

    document.getElementById("certificate").style.display="block";
    document.getElementById("downloadBtn").style.display="inline-block";

    document.getElementById("certName").innerText=name;
    document.getElementById("certInsta").innerText=insta;
    document.getElementById("certDate").innerText=new Date().toLocaleDateString();

  }else{
    alert("Certificate only for 100% (50/50) score.");
  }
}

async function downloadPDF(){
  const { jsPDF } = window.jspdf;
  const cert=document.getElementById("certificate");

  html2canvas(cert).then(canvas=>{
    const imgData=canvas.toDataURL("image/png");
    const pdf=new jsPDF('landscape');
    pdf.addImage(imgData,'PNG',10,10,270,180);
    pdf.save("Shiv_Jayanti_Certificate.pdf");
  });
}

</script>
<h1>Thank for participating </h1>
</body>
</html>
